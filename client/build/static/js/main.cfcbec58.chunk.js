(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{123:function(e,t,c){},165:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(25),r=c.n(s),o=(c(123),c(1));function l(){var e=JSON.parse(localStorage.getItem("currentUser"));return Object(o.jsxs)("nav",{class:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(o.jsx)("a",{class:"navbar-brand",href:"/home",children:"PayRooms"}),Object(o.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{class:"navbar-toggler-icon",style:{backgroundColor:"white"}})}),Object(o.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(o.jsx)("div",{class:"navbar-nav",children:e?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{class:"dropdown mr-5",children:[Object(o.jsx)("button",{class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:e.name}),Object(o.jsxs)("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(o.jsx)("a",{class:"dropdown-item",href:"/profile",children:"Profile"}),Object(o.jsx)("a",{class:"dropdown-item",href:"#",onClick:function(){localStorage.removeItem("currentUser"),window.location.href="/login"},children:"Logout"})]})]})}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/register",children:"Register"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)("a",{className:"nav-link",href:"/login",children:"Login"})})]})})})]})}var i=c(91),j=c(14),d=c.n(j),b=c(26),u=c(8),h=c(27),O=c.n(h),x=c(172),m=c(174),p=c(170),f=c(52),v=c(69),g=c.n(v);c(106);g.a.init({duration:2e3});var y=function(e){var t=e.room,c=e.fromdate,n=e.todate,s=Object(a.useState)(!1),r=Object(u.a)(s,2),l=r[0],i=r[1],j=function(){return i(!1)};return Object(o.jsxs)("div",{className:"row bs","data-aos":"fade-up",children:[Object(o.jsx)("div",{className:"col-md-4",children:Object(o.jsx)("img",{src:t.imageurls[0],className:"smallimg"})}),Object(o.jsxs)("div",{className:"col-md-7",children:[Object(o.jsx)("h1",{children:t.name}),Object(o.jsxs)("b",{children:[Object(o.jsxs)("p",{children:["Max Count : ",t.maxcount]}),Object(o.jsxs)("p",{children:["PhoneNumber : ",t.phonenumber]}),Object(o.jsxs)("p",{children:["Type : ",t.type]})]}),Object(o.jsxs)("div",{style:{float:"right"},children:[c&&n&&Object(o.jsx)(f.b,{to:"/book/".concat(t._id,"/").concat(c,"/").concat(n),children:Object(o.jsx)("button",{className:"btn btn-primary m-2",children:"Book Now"})}),Object(o.jsx)("button",{className:"btn btn-primary",onClick:function(){return i(!0)},children:"View Details"})]})]}),Object(o.jsxs)(x.a,{show:l,onHide:j,size:"lg",children:[Object(o.jsx)(x.a.Header,{children:Object(o.jsx)(x.a.Title,{children:t.name})}),Object(o.jsxs)(x.a.Body,{children:[Object(o.jsx)(m.a,{prevLabel:"",nextLabel:"",children:t.imageurls.map((function(e){return Object(o.jsx)(m.a.Item,{children:Object(o.jsx)("img",{className:"d-block w-100 bigimg",src:e})})}))}),Object(o.jsx)("p",{children:t.description})]}),Object(o.jsx)(x.a.Footer,{children:Object(o.jsx)(p.a,{variant:"secondary",onClick:j,children:"Close"})})]})]})},N=c(110),w=c.n(N);var k=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0];return t[1],Object(o.jsx)("div",{style:{marginTop:"150px"},className:"sweet-loading text-center",children:Object(o.jsx)(w.a,{color:"#000",loading:c,css:"",size:80})})};var S=function(e){var t=e.message;return Object(o.jsx)("div",{children:Object(o.jsx)("div",{class:"alert alert-danger",role:"alert",children:t})})},Y=c(171),C=c(17),M=c.n(C),D=(c(154),Y.a.RangePicker);function A(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!0),r=Object(u.a)(s,2),l=r[0],j=r[1],h=Object(a.useState)(!1),x=Object(u.a)(h,2),m=(x[0],x[1]),p=Object(a.useState)(""),f=Object(u.a)(p,2),v=f[0],g=f[1],N=Object(a.useState)(""),w=Object(u.a)(N,2),S=w[0],Y=w[1],C=Object(a.useState)([]),A=Object(u.a)(C,2),I=A[0],R=A[1],T=Object(a.useState)(""),U=Object(u.a)(T,2),B=U[0],P=U[1];return Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,O.a.get("/api/rooms/getallrooms");case 4:t=e.sent,c=t.data,n(c),R(c),j(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),j(!1),m(!0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}localStorage.getItem("currentUser")||(window.location.href="/login"),function(){e.apply(this,arguments)}()}),[]),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"row mt-5 bs",children:[Object(o.jsx)("div",{className:"col-md-3",children:Object(o.jsx)(D,{format:"DD-MM-YYYY",onChange:function(e){g(M()(e[0]).format("DD-MM-YYYY")),Y(M()(e[1]).format("DD-MM-YYYY"));var t,c=[],a=Object(i.a)(I);try{for(a.s();!(t=a.n()).done;){var s=t.value,r=!0;if(s.currentbookings.length>0){var o,l=Object(i.a)(s.currentbookings);try{for(l.s();!(o=l.n()).done;){var j=o.value;if(M()(M()(e[0]).format("DD-MM-YYYY")).isBetween(j.fromdate,j.todate)||M()(M()(e[1]).format("DD-MM-YYYY")).isBetween(j.fromdate,j.todate)){r=!1;break}if(M()(e[0].format("DD-MM-YYYY"))===j.fromdate||M()(e[0].format("DD-MM-YYYY"))===j.todate||M()(e[1].format("DD-MM-YYYY"))===j.fromdate||M()(e[1].format("DD-MM-YYYY"))===j.todate){r=!1;break}r=!0}}catch(d){l.e(d)}finally{l.f()}}!0===r&&c.push(s)}}catch(d){a.e(d)}finally{a.f()}n(c)}})}),Object(o.jsx)("div",{className:"col-md-5",children:Object(o.jsx)("input",{type:"text",className:"form-control",value:B,placeholder:"search rooms",onChange:function(e){P(e.target.value)},onKeyUp:function(){var e=I.filter((function(e){return e.name.toLowerCase().includes(B.toLowerCase())}));n(e)}})}),Object(o.jsx)("div",{className:"col-md-3",children:Object(o.jsxs)("select",{className:"form-control",onChange:function(e){return function(e){if("all"!==e){var t=I.filter((function(t){return t.type.toLowerCase()===e.toLowerCase()}));n(t)}else n(I)}(e.target.value)},children:[Object(o.jsx)("option",{value:"all",children:"All"}),Object(o.jsx)("option",{value:"delux",children:"Delux"}),Object(o.jsx)("option",{value:"non-delux",children:"Non-Delux"})]})})]}),Object(o.jsx)("div",{className:"row justify-content-center mt-5",children:!0===l?Object(o.jsx)("h1",{children:Object(o.jsx)(k,{})}):Object(o.jsx)("div",{children:c.map((function(e){return Object(o.jsx)("div",{className:"col-md-9 mt-2",children:Object(o.jsx)(y,{room:e,fromdate:v,todate:S},e._id)})}))})})]})}var I=c(22),R=c(117),T=c.n(R),U=c(40),B=c.n(U);var P=function(e){var t=e.match,c=Object(a.useState)(null),n=Object(u.a)(c,2),s=n[0],r=n[1],l=Object(a.useState)(!0),i=Object(u.a)(l,2),j=i[0],h=i[1],x=Object(a.useState)(!1),m=Object(u.a)(x,2),p=(m[0],m[1]),f=Object(a.useState)(0),v=Object(u.a)(f,2),g=v[0],y=v[1],N=(t.params.roomid,M()(t.params.fromdate,"DD-MM-YYYY")),w=M()(t.params.todate,"DD-MM-YYYY"),Y=M.a.duration(w.diff(N)).asDays()+1;function C(){return(C=Object(b.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),c={room:s,userid:JSON.parse(localStorage.getItem("currentUser"))._id,fromdate:N,todate:w,totalamount:g,totaldays:Y,token:t},e.prev=2,h(!0),e.next=6,O.a.post("/api/bookings/bookroom",c);case 6:e.sent,h(!1),B.a.fire("Congratulations","Your room booked successfully","success").then((function(e){return window.location.href="/home"})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),h(!1),B.a.fire("Oops!","something went wrong, please try again","success");case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(d.a.mark((function e(){var c,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,O.a.post("/api/rooms/getroombyid",{roomid:t.params.roomid});case 4:c=e.sent,a=c.data,r(a),n=Y*a.rentperday,y(n),h(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),p(!0),h(!1);case 17:h(!1);case 18:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}localStorage.getItem("currentUser")||(window.location.href="/login"),function(){e.apply(this,arguments)}()}),[]),Object(o.jsx)("div",{className:"container m-5 ",children:Object(o.jsx)("div",{className:"row justify-content-center mt-5",children:!0===j?Object(o.jsx)("h1",{children:Object(o.jsx)(k,{})}):null!==s?Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"row bs",children:[Object(o.jsxs)("div",{className:"col-md-7",children:[Object(o.jsx)("h1",{children:s.name}),Object(o.jsx)("img",{src:s.imageurls[0],className:"bigimg"})]}),Object(o.jsxs)("div",{className:"col-md-5",children:[Object(o.jsxs)("div",{style:{textAlign:"right"},children:[Object(o.jsx)("h1",{children:"Booking Details"}),Object(o.jsx)("hr",{}),Object(o.jsxs)("b",{children:[Object(o.jsxs)("p",{children:["Name :"," ",JSON.parse(localStorage.getItem("currentUser")).name]}),Object(o.jsxs)("p",{children:["From Date : ",t.params.fromdate," "]}),Object(o.jsxs)("p",{children:["To Date : ",t.params.todate]}),Object(o.jsxs)("p",{children:["Max Count : ",s.maxcount]})]})]}),Object(o.jsx)("div",{style:{textAlign:"right"},children:Object(o.jsxs)("b",{children:[Object(o.jsx)("h1",{children:"Amount"}),Object(o.jsx)("hr",{}),Object(o.jsxs)("p",{children:["Total days : ",Y]}),Object(o.jsxs)("p",{children:["Rent per day : ",s.rentperday]}),Object(o.jsxs)("p",{children:["Total Amount : ",g]})]})}),Object(o.jsx)("div",{style:{float:"right"},children:Object(o.jsx)(T.a,{amount:100*g,token:function(e){return C.apply(this,arguments)},currency:"INR",stripeKey:"pk_test_51JKMAaSJhbsXoJeQSrIeGpQVkYeR6nXzB3eeTiPQuAz4tDrti6tAMA7UURcxnI2rJA1z1n5nTFAk8sqBkLfoiVb100MRawD4xx",children:Object(o.jsx)("button",{className:"btn btn-primary",children:"Pay Now"})})})]})]})}):Object(o.jsxs)("h1",{children:[" ",Object(o.jsx)(S,{})]})})})};var L=function(e){var t=e.message;return Object(o.jsx)("div",{children:Object(o.jsx)("div",{class:"alert alert-success",role:"alert",children:t})})};var E=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(u.a)(s,2),l=r[0],i=r[1],j=Object(a.useState)(""),h=Object(u.a)(j,2),x=h[0],m=h[1],p=Object(a.useState)(""),f=Object(u.a)(p,2),v=f[0],g=f[1],y=Object(a.useState)(!1),N=Object(u.a)(y,2),w=N[0],Y=N[1],C=Object(a.useState)(!1),M=Object(u.a)(C,2),D=M[0],A=M[1],I=Object(a.useState)(!1),R=Object(u.a)(I,2),T=R[0],U=R[1];function B(){return(B=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x!==v){e.next=17;break}return t={name:c,email:l,password:x,cpassword:v},e.prev=2,Y(!0),e.next=6,O.a.post("/api/users/register",t);case 6:e.sent.data,Y(!1),U(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),Y(!1),A(!0);case 15:e.next=18;break;case 17:alert("Password do not match");case 18:n(""),i(""),m(""),g("");case 22:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(o.jsxs)("div",{children:[w&&Object(o.jsx)(k,{}),D&&Object(o.jsx)(S,{}),T&&Object(o.jsx)(L,{message:"Registration successfull"}),Object(o.jsx)("div",{className:"row justify-content-center mt-5",children:Object(o.jsx)("div",{className:"col-md-5",children:Object(o.jsxs)("div",{className:"bs",children:[Object(o.jsx)("h2",{children:"Register"}),Object(o.jsx)("input",{type:"text",value:c,onChange:function(e){n(e.target.value)},className:"form-control",placeholder:"name"}),Object(o.jsx)("input",{type:"email",value:l,onChange:function(e){i(e.target.value)},className:"form-control",placeholder:"email"}),Object(o.jsx)("input",{type:"password",value:x,onChange:function(e){m(e.target.value)},className:"form-control",placeholder:"password"}),Object(o.jsx)("input",{type:"password",value:v,onChange:function(e){g(e.target.value)},className:"form-control",placeholder:"confirm password"}),Object(o.jsx)("button",{className:"btn btn-primary mt-3",onClick:function(){return B.apply(this,arguments)},children:"Register"})]})})})]})};var F=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(u.a)(s,2),l=r[0],i=r[1],j=Object(a.useState)(!1),h=Object(u.a)(j,2),x=h[0],m=h[1],p=Object(a.useState)(!1),f=Object(u.a)(p,2),v=f[0],g=f[1];function y(){return(y=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:c,password:l},e.prev=1,m(!0),e.next=5,O.a.post("/api/users/login",t);case 5:a=e.sent.data,m(!1),localStorage.setItem("currentUser",JSON.stringify(a)),window.location.href="/home",e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),m(!1),g(!0);case 15:n(""),i("");case 17:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return Object(o.jsxs)("div",{children:[x&&Object(o.jsx)(k,{}),Object(o.jsx)("div",{className:"row justify-content-center mt-5",children:Object(o.jsx)("div",{className:"col-md-5",children:Object(o.jsxs)("div",{className:"bs",children:[v&&Object(o.jsx)(S,{message:"Invalid Credentials"}),Object(o.jsx)("h2",{children:"Login"}),Object(o.jsx)("input",{type:"email",value:c,onChange:function(e){n(e.target.value)},className:"form-control",placeholder:"email"}),Object(o.jsx)("input",{type:"password",value:l,onChange:function(e){i(e.target.value)},className:"form-control",placeholder:"password"}),Object(o.jsx)("button",{className:"btn btn-primary mt-3",onClick:function(){return y.apply(this,arguments)},children:"Login"})]})})})]})},J=c(173),_=c(118),z=J.a.TabPane;var K=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!0),r=Object(u.a)(s,2),l=r[0],i=r[1];return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("currentUser"));e?n(e):window.location.href="/login",i(!1)}),[]),Object(o.jsxs)("div",{className:"ml-3 mt-3",children:[console.log("return"),!0===l?Object(o.jsx)(k,{}):Object(o.jsxs)(J.a,{defaultActiveKey:"1",children:[Object(o.jsxs)(z,{tab:"Profile",children:[Object(o.jsx)("h1",{children:"My Profile"}),Object(o.jsx)("br",{}),Object(o.jsxs)("h1",{children:["Name : ",c.name]}),Object(o.jsxs)("h1",{children:["Email : ",c.email]}),Object(o.jsxs)("h1",{children:["isAdmin : ",c.isAdmin?"True":"False"]})]},"1"),Object(o.jsx)(z,{tab:"Bookings",children:Object(o.jsx)(G,{user:c})},"2")]})]})};function G(e){var t=e.user,c=Object(a.useState)([]),n=Object(u.a)(c,2),s=n[0],r=n[1],l=Object(a.useState)(!0),i=Object(u.a)(l,2),j=i[0],h=i[1];function x(){return(x=Object(b.a)(d.a.mark((function e(t,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,O.a.post("/api/bookings/cancelbooking",{bookingid:t,roomid:c});case 4:e.sent.data,h(!1),B.a.fire("Congratulations","Your booking has been cancelled","success").then((function(e){return window.location.reload()})),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),h(!1),B.a.fire("Oops!","something went wrong, please try again","success");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(a.useEffect)(Object(b.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("/api/bookings/getbookingsbyuserid",{userid:t._id});case 3:c=e.sent.data,r(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:h(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-6",children:!0===j?Object(o.jsx)("div",{children:Object(o.jsx)(k,{})}):Object(o.jsx)("div",{children:s&&s.map((function(e){return Object(o.jsxs)("div",{className:"bs",children:[Object(o.jsx)("h1",{children:Object(o.jsx)("b",{children:e.room})}),Object(o.jsxs)("p",{children:["BookingId : ",e._id]}),Object(o.jsxs)("p",{children:["CheckIn : ",e.fromdate]}),Object(o.jsxs)("p",{children:["CheckOut : ",e.todate]}),Object(o.jsxs)("p",{children:["Amount : ",e.totalamount]}),Object(o.jsxs)("p",{children:["Status :"," ","booked"===e.status?Object(o.jsx)(_.a,{color:"green",children:"CONFIRMED"}):Object(o.jsx)(_.a,{color:"orange",children:"CANCELLED"})]}),Object(o.jsx)("div",{className:"text-right",children:"cancelled"!==e.status&&Object(o.jsx)("button",{className:"btn btn-primary",onClick:function(){return function(e,t){return x.apply(this,arguments)}(e._id,e.roomid)},children:"Cancel Booking"})})]})}))})})})}var Q=J.a.TabPane;var V=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){JSON.parse(localStorage.getItem("currentUser")).isAdmin||(window.location.href="/home"),n(!1)}),[]),!0===c?Object(o.jsx)(k,{}):Object(o.jsxs)("div",{className:"mt-3 ml-3 bs",children:[Object(o.jsx)("h2",{className:"text-center",children:Object(o.jsx)("b",{children:"Admin Panel"})}),Object(o.jsxs)(J.a,{defaultActiveKey:"1",children:[Object(o.jsx)(Q,{tab:"Bookings",children:Object(o.jsx)(H,{})},"1"),Object(o.jsx)(Q,{tab:"Rooms",children:Object(o.jsx)(X,{})},"2"),Object(o.jsx)(Q,{tab:"Add a room",children:Object(o.jsx)("h1",{children:Object(o.jsx)(W,{})})},"3"),Object(o.jsx)(Q,{tab:"Users",children:Object(o.jsx)(q,{})},"4")]})]})};function H(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!0),r=Object(u.a)(s,2),l=r[0],i=r[1],j=Object(a.useState)(),h=Object(u.a)(j,2),x=(h[0],h[1]);return Object(a.useEffect)(Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/bookings/getallbookings");case 3:t=e.sent.data,n(t),i(!1),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i(!1),x(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-md-12",children:[Object(o.jsx)("h1",{children:"Bookings"}),l&&Object(o.jsx)(k,{}),Object(o.jsxs)("table",{className:"table table-bordered table-dark",children:[Object(o.jsx)("thead",{className:"bs",children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Booking Id"}),Object(o.jsx)("th",{children:"User Id"}),Object(o.jsx)("th",{children:"Room"}),Object(o.jsx)("th",{children:"From"}),Object(o.jsx)("th",{children:"To"}),Object(o.jsx)("th",{children:"Status"})]})}),Object(o.jsx)("tbody",{children:c.length&&c.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e._id}),Object(o.jsx)("td",{children:e.userid}),Object(o.jsx)("td",{children:e.room}),Object(o.jsx)("td",{children:e.fromdate}),Object(o.jsx)("td",{children:e.todate}),Object(o.jsx)("td",{children:e.status})]})}))})]})]})})}function X(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!0),r=Object(u.a)(s,2),l=r[0],i=r[1],j=Object(a.useState)(),h=Object(u.a)(j,2),x=(h[0],h[1]);return Object(a.useEffect)(Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/rooms/getallrooms");case 3:t=e.sent.data,n(t),i(!1),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i(!1),x(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-md-12",children:[Object(o.jsx)("h1",{children:"Rooms"}),l&&Object(o.jsx)(k,{}),Object(o.jsxs)("table",{className:"table table-bordered table-dark",children:[Object(o.jsx)("thead",{className:"bs",children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Room Id"}),Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"Type"}),Object(o.jsx)("th",{children:"Rent per day"}),Object(o.jsx)("th",{children:"Max Count"}),Object(o.jsx)("th",{children:"Phone Number"})]})}),Object(o.jsx)("tbody",{children:c.length&&c.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e._id}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.type}),Object(o.jsx)("td",{children:e.rentperday}),Object(o.jsx)("td",{children:e.maxcount}),Object(o.jsx)("td",{children:e.phonenumber})]})}))})]})]})})}function q(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!0),r=Object(u.a)(s,2),l=(r[0],r[1]),i=Object(a.useState)(),j=Object(u.a)(i,2),h=(j[0],j[1]);return Object(a.useEffect)(Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/users/getallusers");case 3:t=e.sent.data,n(t),l(!1),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),l(!1),h(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-md-12",children:[Object(o.jsx)("h1",{children:"Users"}),Object(o.jsxs)("table",{className:"table table-dark table-bordered",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"User Id"}),Object(o.jsx)("th",{children:"User name"}),Object(o.jsx)("th",{children:"User Email"}),Object(o.jsx)("th",{children:"Is Admin"})]})}),Object(o.jsx)("tbody",{children:c&&c.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e._id}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.email}),Object(o.jsx)("td",{children:e.isAdmin?"Yes":"No"})]})}))})]})]})})}function W(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(u.a)(s,2),l=r[0],i=r[1],j=Object(a.useState)(""),h=Object(u.a)(j,2),x=h[0],m=h[1],p=Object(a.useState)(""),f=Object(u.a)(p,2),v=f[0],g=f[1],y=Object(a.useState)(""),N=Object(u.a)(y,2),w=N[0],k=N[1],S=Object(a.useState)(""),Y=Object(u.a)(S,2),C=Y[0],M=Y[1],D=Object(a.useState)(),A=Object(u.a)(D,2),I=A[0],R=A[1],T=Object(a.useState)(),U=Object(u.a)(T,2),P=U[0],L=U[1],E=Object(a.useState)(),F=Object(u.a)(E,2),J=F[0],_=F[1];function z(){return(z=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:c,rentperday:l,maxcount:x,description:v,phonenumber:w,type:C,imageurls:[I,P,J]},e.prev=1,e.next=4,O.a.post("/api/rooms/addroom",t);case 4:a=e.sent.data,console.log(a),B.a.fire("Congratulations","New room added successfully","success").then((function(e){window.location.href="/home"})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),B.a.fire("Oops!","Something went wrong, please try again","success");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-md-5",children:[Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"room name",onChange:function(e){n(e.target.value)}}),Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"Type",onChange:function(e){M(e.target.value)}}),Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"rent per day",onChange:function(e){i(e.target.value)}}),Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"max count",onChange:function(e){m(e.target.value)}}),Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"description",onChange:function(e){g(e.target.value)}}),Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"phone number",onChange:function(e){k(e.target.value)}})]}),Object(o.jsxs)("div",{className:"col-md-5",children:[Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"image url 1",onChange:function(e){R(e.target.value)}}),Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"image url 2",onChange:function(e){L(e.target.value)}}),Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"image url 3",onChange:function(e){_(e.target.value)}}),Object(o.jsx)("div",{className:"text-right",children:Object(o.jsx)("div",{className:"btn btn-primary mt-2",onClick:function(){return z.apply(this,arguments)},children:"Add Room"})})]})]})}g.a.init({duration:2e3});var Z=function(){return Object(o.jsx)("div",{className:"row landing justify-content-center",children:Object(o.jsxs)("div",{className:"col-md-9 text-center my-auto",style:{borderRight:"5px solid white"},children:[Object(o.jsx)("h2",{"data-aos":"zoom-in",style:{color:"white",fontSize:"400%"},children:"PayRooms"}),Object(o.jsx)("h1",{"data-aos":"zoom-out",style:{color:"white"},children:"There is only one boss. The Guest."}),Object(o.jsx)(f.b,{to:"/home",children:Object(o.jsx)("button",{className:"btn btn-primary landing-btn",children:"Get Started"})})]})})};function $(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(l,{}),Object(o.jsxs)(f.a,{children:[Object(o.jsx)(I.a,{path:"/home",exact:!0,component:A}),Object(o.jsx)(I.a,{path:"/book/:roomid/:fromdate/:todate",exact:!0,component:P}),Object(o.jsx)(I.a,{path:"/register",exact:!0,component:E}),Object(o.jsx)(I.a,{path:"/login",exact:!0,component:F}),Object(o.jsx)(I.a,{path:"/profile",exact:!0,component:K}),Object(o.jsx)(I.a,{path:"/admin",exact:!0,component:V}),Object(o.jsx)(I.a,{path:"/",exact:!0,component:Z})]})]})}var ee=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,176)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)($,{})}),document.getElementById("root")),ee()}},[[165,1,2]]]);
//# sourceMappingURL=main.cfcbec58.chunk.js.map